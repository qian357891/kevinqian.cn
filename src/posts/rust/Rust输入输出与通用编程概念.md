---
date: 2022-12-2
category:
  - åç«¯
tag:
  - Rust
archive: true
---



# Rustè¾“å…¥è¾“å‡ºä¸é€šç”¨ç¼–ç¨‹æ¦‚å¿µ

### è¾“å…¥è¾“å‡ºä¸çŒœæ•°å­—

1.è¾“å…¥è¾“å‡º

```rust
// use std::io; //å¦‚æœpreludeï¼ˆåºæ›²/é¢„å¯¼å…¥ï¼‰æ²¡æœ‰ï¼Œéœ€è¦æ˜¾å¼å¯¼å…¥

fn main() {
    println!("çŒœæ•°ï¼"); /* !æ˜¯ä¸€ä¸ªå®ï¼Œä¸æ˜¯ä¸€ä¸ªå‡½æ•° */

    println!("çŒœä¸€ä¸ªæ•°");

    // let mut foo = 1;
    // let bar = foo;

    // foo = 2; //cannot assign twice to immutable variable `foo`

    /* Rustè®¤ä¸ºï¼Œåº”è¯¥æ˜¾å¼åœ°åŒºåˆ†å¯å˜äºä¸å¯å˜ï¼Œå¦‚æœæˆ‘ä»¬è¦å£°æ˜ä¸€ä¸ªå¯å˜çš„å˜é‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨mutå…³é”®å­— */

    //å£°æ˜å¯å˜å˜é‡guessï¼Œå°†guessçš„å€¼ç»‘å®šåˆ°äº†ä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²å®ä¾‹ä¸Š
    let mut guess = String::new();
    /* Stringæ˜¯ç±»å‹ï¼Œ::ä¸¤ä¸ªå†’å·æ˜¯è¯¥ç±»å‹çš„ä¸€ä¸ªå…³è”å‡½æ•°ï¼ˆpub struct Stringï¼‰
    ç±»ä¼¼äºä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œnew()æ˜¯åˆ›å»ºå®ä¾‹çš„ä¸€ä¸ªæƒ¯ç”¨å‡½æ•°å*/

    std::io::stdin().read_line(&mut guess).expect("æ— æ³•è¯»å–è¡Œ");
    /*ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨&(æ¶‰åŠæ‰€æœ‰æƒ)
    å¯ä»¥ç›´æ¥åœ¨ä½¿ç”¨stdåº“å‡½æ•°æ—¶ä½¿ç”¨std::æ¥å¼•ç”¨ioä¸­stdinçš„å‡½æ•°
    read_lineç”¨æ¥è¯»å–ç”¨æˆ·è¾“å…¥çš„å†…å®¹ï¼Œå¹¶å°†å…¶æ”¾å…¥å­—ç¬¦ä¸²ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬è¾“å…¥çš„å€¼æ˜¯æ”¹å˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®©å…¶ä¸ºmutå¯å˜çš„ï¼Œå¹¶ä¸”
    æˆ‘ä»¬ä½¿ç”¨äº†å–åœ°å€ç¬¦å·&æ¥è¡¨ç¤ºæˆ‘ä»¬å¼•ç”¨è¿™ä¸ªå€¼
    */
    // io::Result OK,Err

    println!("ä½ çŒœæµ‹çš„æ•°æ˜¯:{}", guess);
}
```



cargoæ˜¯rustçš„æ„å»ºç³»ç»Ÿå’Œè½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚

cargo.tomlä¸­æ·»åŠ 

```toml
[dependencies]
rand = "^0.8.5"
```



å‡ºç°ï¼š`Blocking waiting for file lock on package cache`

æ¢æºåœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹çš„`.cargo`æ–‡ä»¶å¤¹ä¸­æ·»åŠ configæ–‡ä»¶ï¼Œæ¢æºï¼š

```
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"
replace-with = 'ustc'
[source.ustc]
registry = "git://mirrors.ustc.edu.cn/crates.io-index"
# å¦‚æœæ‰€å¤„çš„ç¯å¢ƒä¸­ä¸å…è®¸ä½¿ç”¨ git åè®®ï¼Œå¯ä»¥æŠŠä¸Šé¢çš„åœ°å€æ”¹ä¸º
# registry = "https://mirrors.ustc.edu.cn/crates.io-index"
#[http]
#check-revoke = false
```



å¦‚æœè¿˜ä¸è¡Œï¼Œåˆ é™¤`.package-cache`æ–‡ä»¶ã€‚

é‡æ–°æ‰§è¡Œ`cargo build`ä¸‹è½½ä¾èµ–ã€‚



```rust
use rand::Rng; //trait
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("çŒœæ•°å­—æ¸¸æˆï¼");
    //i32,u32,i64 ä¸‹é¢ä½¿ç”¨äº†guessä¸å…¶æ¯”è¾ƒï¼Œæ‰€ä»¥æ˜¯u32ï¼Œé»˜è®¤æ˜¯i32ã€‚
    let secret_number = rand::thread_rng().gen_range(1..101);
    println!("ç¥ç§˜æ•°å­—æ˜¯ï¼š{}", secret_number);
    println!("çŒœä¸€ä¸ªæ•°");
    let mut guess = String::new();
    io::stdin().read_line(&mut guess).expect("æ— æ³•è¯»å–è¡Œ");
    println!("ä½ çŒœæµ‹çš„æ•°æ˜¯:{}", guess);

    // shadow
    let guess: u32 = guess.trim().parse().expect("Please type a number!"); //Result<F, F::Err>

    match guess.cmp(&secret_number) {
        Ordering::Less => println!("Too Small"), //arm
        Ordering::Greater => println!("Too Big"),
        Ordering::Equal => println!("You Win!"),
    }
}
```





å¤šæ¬¡çŒœæµ‹ï¼š

```rust
use rand::Rng; //trait
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("çŒœæ•°å­—æ¸¸æˆï¼");
    //i32,u32,i64 ä¸‹é¢ä½¿ç”¨äº†guessä¸å…¶æ¯”è¾ƒï¼Œæ‰€ä»¥æ˜¯u32ï¼Œé»˜è®¤æ˜¯i32ã€‚
    let secret_number = rand::thread_rng().gen_range(1..101);
    // println!("ç¥ç§˜æ•°å­—æ˜¯ï¼š{}", secret_number);

    loop {
        println!("çŒœä¸€ä¸ªæ•°");
        let mut guess = String::new();
        io::stdin().read_line(&mut guess).expect("æ— æ³•è¯»å–è¡Œ");
        println!("ä½ çŒœæµ‹çš„æ•°æ˜¯:{}", guess);

        // shadow
        let guess: u32 = match guess.trim().parse() {
            Ok(num) => num,
            Err(_) => continue,
        };

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("Too Small"), //arm
            Ordering::Greater => println!("Too Big"),
            Ordering::Equal => {
                println!("You Win!");
                break;
            }
        }
    }
}
```



# ä¸‰ã€é€šç”¨ç¼–ç¨‹æ¦‚å¿µ

## 1.å˜é‡ä¸å¯å˜æ€§

### letå˜é‡

æˆ‘ä»¬åœ¨å£°æ˜å˜é‡æ—¶ä½¿ç”¨`let`å…³é”®å­—ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ã€‚

letä¸constä¸åŒã€‚let ä¸ constæœ€å¤§çš„åŒºåˆ«åœ¨äºåˆå§‹åŒ–ï¼Œletçš„åˆå§‹åŒ–åœ¨ç¨‹åºä¸­æ˜¯ä¸ç¡®å®šçš„ï¼Œä¸”å£°æ˜ä¸èµ‹å€¼å¯ä»¥åˆ†å¼€ã€‚å¦å¤–ï¼Œconstçš„åˆå§‹åŒ–æ— ç±»å‹æ¨å¯¼ï¼Œå¼ºè¿«å¼€å‘è€…æ‰‹åŠ¨åŠ ç±»å‹æ³¨é‡Šã€‚è€Œä¸”conståé¢å¿…é¡»æ˜¯å¸¸é‡ï¼Œåˆå§‹åŒ–æ—¶çš„å€¼æ˜¯æ°¸è¿œç¡®å®šçš„ã€‚

å¦‚æœæˆ‘ä»¬è¦ä½¿å˜é‡ä¸ºå¯å˜å˜é‡ï¼Œéœ€è¦åœ¨`let`åè·Ÿ`mut`å…³é”®å­—ã€‚

```rust
fn main() {
    let x = 5;
    println!("The value of x is {}", x);

    // x = 6; //cannot assign twice to immutable variable `x`
    let mut y = 5;
    println!("The value of y is {}", y);
    y = 6;
    println!("The value of y is {}", y);
}
```

### constå¸¸é‡

å¸¸é‡åœ¨ç»‘å®šå€¼ä»¥åä¹Ÿæ˜¯ä¸å¯å˜çš„çš„ï¼Œä½†ä¸ä¸å¯å˜å˜é‡æœ‰åŒºåˆ«ï¼š

 - ä¸å¯ä»¥ä½¿ç”¨mutï¼Œå¸¸é‡æ°¸è¿œéƒ½æ˜¯ä¸å¯å˜çš„ã€‚
- å£°æ˜å¸¸é‡ä½¿ç”¨constå…³é”®å­—ï¼Œå¿…é¡»æ ‡æ³¨ç±»å‹ã€‚
- å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸå†…è¿›è¡Œå£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸã€‚
- å¸¸é‡åªèƒ½ç»‘å®šåˆ°å¸¸é‡è¡¨è¾¾å¼ï¼Œæ— æ³•ç»‘å®šåˆ°å‡½æ•°çš„è°ƒç”¨ç»“æœæˆ–åªèƒ½åœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—æ•°çš„å€¼ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå¸¸é‡åœ¨å…¶å£°æ˜çš„ä½œç”¨åŸŸå†…ä¸€ç›´æœ‰æ•ˆã€‚

å‘½åè§„èŒƒï¼šRustä¸­å¸¸é‡ä½¿ç”¨å…¨å¤§å†™å­—æ¯ï¼Œæ¯ä¸ªå•è¯ä¹‹é—´ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å¼€ï¼š`MAX_POINTS`

```rust
const MAX_POINTS: u32 = 100_000;//å¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜

fn main() {
    const MIN_POINTS: u32 = 10_000;//å¯ä½¿ç”¨ä¸‹åˆ’çº¿æ¥åˆ†å‰²ï¼Œå¢å¼ºå¯è¯»æ€§
    println!("The value of MAX_POINTS is {}", MAX_POINTS);
    println!("The value of MIN_POINTS is {}", MIN_POINTS);
}
```



### Shadowingï¼ˆéšè—ï¼‰

æˆ‘ä»¬å¯ä»¥é‡å¤å£°æ˜ä¸€ä¸ªå±æ€§æ¥å¯¹ä¹‹å‰å£°æ˜çš„å˜é‡è¿›è¡Œéšè—ï¼Œåœ¨åç»­çš„ä»£ç ä¸­çš„è¿™ä¸ªå˜é‡åä»£è¡¨çš„å°±æ˜¯æ–°çš„å˜é‡ï¼š

```rust
fn main() {
    let x = 5;
    let x = x + 1;
    let x = x * 2;
    println!("The value of x is {}", x) //The value of x is 12
}
```

shadowå’ŒæŠŠå˜é‡æ ‡è®°ä¸ºmutæ˜¯ä¸ä¸€æ ·çš„ï¼š

- å¦‚æœä¸ä½¿ç”¨letå…³é”®å­—ï¼Œé‚£ä¹ˆé‡æ–°ç»™émutçš„å˜é‡èµ‹å€¼å°†ä¼šå¯¼è‡´ç¼–è¯‘æ—¶é”™è¯¯ã€‚

- è€Œä½¿ç”¨letå£°æ˜çš„åŒåæ–°å˜é‡ï¼Œä¹Ÿæ˜¯ä¸å¯å˜çš„ã€‚

- ä½¿ç”¨letå£°æ˜çš„åŒåæ–°å˜é‡ï¼Œå®ƒçš„ç±»å‹å¯ä»¥ä¸ä¹‹å‰ä¸åŒï¼š

```rust
fn main() {
    let spaces = "    ";
    let spaces = spaces.len();
    println!("{}", spaces) //4
}
```

å¦‚æœæˆ‘ä»¬ä½¿ç”¨mutåˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºç±»å‹ä¸åŒï¼š

```rust
fn main() {
    let mut spaces = "    ";
    spaces = spaces.len(); //expected `&str`, found `usize`
}
```

shadowingçš„è®¾è®¡å¾—åˆ°çš„å¥½å¤„æ˜¯éå¸¸æ˜æ˜¾çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬å…ˆå¾—åˆ°äº†ä¸€ä¸ªå­—ç¬¦ä¸²`spaces_str`ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºæ•°å­—`spaces_num`ï¼Œä½†ä»è¡¨è¾¾çš„æ„å›¾æ¥è¯´ï¼Œè¿™ä¸ªåç¼€åˆæ˜¯å¤šä½™çš„ï¼Œæ‰€ä»¥ä½¿ç”¨shadowingå¹¶ä¸æ˜¯åå¤„ã€‚



## 2.æ•°æ®ç±»å‹

Rustæ˜¯é™æ€ç¼–è¯‘è¯­è¨€ï¼Œåœ¨ç¼–è¯‘æ—¶å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚

- åŸºäºä½¿ç”¨çš„å€¼ï¼Œç¼–è¯‘å™¨é€šå¸¸å¯ä»¥æ¨æ–­å‡ºå®ƒå…·ä½“çš„ç±»å‹ã€‚
- ä½†å¦‚æœå¯èƒ½çš„ç±»å‹æ¯”è¾ƒå¤šï¼ˆä¾‹å¦‚æŠŠStringè½¬ä¸ºæ•´æ•°parseæ–¹æ³•ï¼‰ï¼Œå°±å¿…é¡»æ·»åŠ ç±»å‹çš„æ ‡æ³¨ï¼Œå¦åˆ™ç¼–è¯‘ä¼šæŠ¥é”™ï¼š

```rust
fn main() {
    //å¦‚æœä¸å†™u32ç±»å‹ï¼Œä¼šæŠ¥é”™ï¼štype annotations neededï¼Œå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“è¯¥è½¬ä¸ºé‚£ç§æ•°å­—ç±»å‹
    let guess: u32 = "42".parse().expect("Not a number");
    println!("{}", guess);
}
```

### æ ‡é‡ç±»å‹

ä¸€ä¸ªæ ‡é‡ç±»å‹ä»£è¡¨ä¸€ä¸ªå•ä¸ªçš„å€¼

rustæœ‰4ç§ä¸»è¦çš„æ ‡é‡ç±»å‹ï¼š

- æ•´æ•°ç±»å‹
- æµ®ç‚¹ç±»å‹
- å¸ƒå°”ç±»å‹
- å­—ç¬¦ç±»å‹

#### æ•´æ•°ç±»å‹

æ•´æ•°ç±»å‹æ²¡æœ‰å°æ•°éƒ¨åˆ†ï¼Œu32å°±æ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„æ•´æ•°ç±»å‹ï¼Œå æ®32ä½çš„ç©ºé—´

- æ— ç¬¦å·æ•´æ•°ç±»å‹ä»¥uå¼€å¤´
- æœ‰ç¬¦å·çš„æ•´æ•°ç±»å‹ä»¥iå¼€å¤´

![image-20221202194746413](https://qiankun825.oss-cn-hangzhou.aliyuncs.com/img/image-20221202194746413.png)



æœ‰ç¬¦å·çš„ç±»å‹æœ‰æ­£æœ‰è´Ÿï¼Œæ— ç¬¦å·çš„ç±»å‹æ˜¯éè´Ÿæ•°ã€‚

èŒƒå›´ï¼ˆè®¾ä½æ•°ä¸ºnï¼‰ï¼š

![image-20221202195104165](https://qiankun825.oss-cn-hangzhou.aliyuncs.com/img/image-20221202195104165.png)



#### isizeå’Œusizeç±»å‹

ç”±archï¼Œè®¡ç®—æœºæ¶æ„å†³å®šï¼Œå¦‚æœæ˜¯64ä½ï¼Œå°±æ˜¯64ä½çš„ã€‚

ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯å¯¹æŸç§é›†åˆè¿›è¡Œç´¢å¼•æ“ä½œã€‚



#### æ•´æ•°å­—é¢å€¼

é™¤byteç±»å‹å¤–ï¼Œæ‰€ä»¥æ•°å€¼ç±»å‹å­—é¢å€¼éƒ½å…è®¸ä½¿ç”¨ç±»å‹åç¼€ï¼Œå¦‚57u8ã€‚

ä¸æ¸…æ¥šç”¨ä»€ä¹ˆç±»å‹å°±ç”¨é»˜è®¤ç±»å‹ï¼Œæ•´æ•°æ˜¯i32ã€‚



#### æ•´æ•°çš„æº¢å‡º

u8èŒƒå›´ä¸º0-255ï¼Œå¦‚æœè®¾ä¸º256ï¼š

- è°ƒè¯•æ¨¡å¼ä¸‹ç¼–è¯‘ä¼šè¢«æ£€æŸ¥å‡ºæ•´æ•°æº¢å‡ºï¼Œå‘ç”Ÿæº¢å‡ºï¼Œç¨‹åºä¼španicï¼ˆåªä¼šåœ¨ç¨‹åºè¿è¡Œæ—¶æ‰å›æŠ›å‡ºæ¥çš„å¼‚å¸¸ï¼‰
- --releaseä¸‹ç¼–è¯‘ï¼Œä¸ä¼šæ£€æŸ¥ï¼Œå¯èƒ½ä¼šå¯¼è‡´æº¢å‡ºï¼Œå¦‚æœæº¢å‡ºä¼šå‘ç”Ÿâ€œç¯ç»•â€ï¼š256ä¸º0ï¼Œ257ä¸º1ã€‚ä½†ç¨‹åºä¸ä¼španic



#### æµ®ç‚¹ç±»å‹

f32ï¼Œ32ä½ï¼Œå•ç²¾åº¦ã€‚f64ï¼ˆé»˜è®¤ï¼‰ï¼Œ64ä½ï¼ŒåŒç²¾åº¦ã€‚



#### æ•°å€¼æ“ä½œ

åŠ å‡ä¹˜é™¤ä½™ç­‰

```rust
fn main() {
    let sum = 5 + 10; //i32
    let differnce = 95.5 - 4.3; //f64
    let product = 4 * 30; //i32
    let quotient = 56.7 / 32.2; //f64
    let reminder = 54 % 5; //i32
    let yu = 1.0 % 0.3; //f64 Rustæ”¯æŒå¯¹æµ®ç‚¹ç±»å‹çš„å–ä½™ï¼ˆä¸¤è¾¹éƒ½æ˜¯åŒç±»å‹æµ®ç‚¹æ•°æ‰è¡Œï¼‰
}
```



#### å¸ƒå°”

true/falseï¼Œä¸€ä¸ªå­—èŠ‚å¤§å†™ï¼Œç±»å‹ä¸ºbool



#### å­—ç¬¦

- charç±»å‹è¢«ç”¨æ¥æè¿°æœ€åŸºç¡€çš„å•ä¸ªå­—ç¬¦ã€‚

- å­—ç¬¦ç±»å‹çš„å­—é¢å€¼ä½¿ç”¨å•å¼•å·
- å ç”¨4å­—èŠ‚å¤§å†™
- æ˜¯Unicodeæ ‡é‡å€¼

rustä¸­çš„å­—ç¬¦å¯èƒ½ä¸ä¸€èˆ¬ç†è§£çš„å­—ç¬¦ä¸åŒã€‚

```rust
fn main() {
    let x = 'x'; //char
    let y: char = 'Î²'; //char
    let z = 'ğŸ˜'; //char
}
```



### å¤åˆç±»å‹

- å¤åˆç±»å‹å¯ä»¥å°†å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªç±»å‹é‡Œã€‚

- rustæä¾›äº†ä¸¤ç§åŸºç¡€çš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆTupleï¼‰ã€æ•°ç»„

#### Tuple

å¯å°†å¤šä¸ªç±»å‹çš„å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªç±»å‹é‡Œï¼ŒTupleçš„é•¿åº¦å›ºå®šï¼Œä¸€æ—¦å£°æ˜æ— æ³•æ”¹å˜ã€‚

åˆ›å»ºTupleï¼šåœ¨å°æ‹¬å·ä¸­å°†å€¼ç”¨é€—å·åˆ†å¼€ï¼Œæ¯ä¸ªä½ç½®éƒ½å¯¹åº”ä¸€ä¸ªç±»å‹ï¼ŒTupleä¸­å„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒï¼š

```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
    println!("{},{},{}", tup.0, tup.1, tup.2); //500,6.4,1
}
```



- **è·å–tupleçš„å…ƒç´ å€¼â€”â€”ä½¿ç”¨æ¨¡å¼åŒ¹é…æ¥è§£æ„**

```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
    let (x, y, z) = tup;
    println!("{},{},{}", x, y, z); //500,6.4,1
}
```



- **è®¿é—®tupleçš„å…ƒç´ ï¼Œä½¿ç”¨ç‚¹æ ‡è®°æ³•ï¼š`tup.0`**



#### æ•°ç»„

- æ•°ç»„ä¹Ÿå¯ä»¥å°†å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªç±»å‹é‡Œã€‚
- æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚
- æ•°ç»„çš„é•¿åº¦ä¹Ÿå›ºå®š

```rust
fn main() {
    let arr = [1, 2, 3]; //[i32; 3]
    println!("{},{},{}", arr[0], arr[1], arr[2]); //1,2,3
}
```

##### ä½¿ç”¨åœºæ™¯

å¦‚æœæƒ³è®©æ•°æ®å­˜æ”¾åœ¨stackï¼ˆæ ˆï¼‰ä¸Šè€Œä¸æ˜¯heapï¼ˆå †ï¼‰ä¸Šï¼Œæˆ–è€…æƒ³ä¿è¯æœ‰å›ºå®šæ•°é‡çš„å…ƒç´ ï¼Œè¿™æ—¶ä½¿ç”¨æ•°ç»„æ›´æœ‰å¥½å¤„ã€‚

å¦å¤–ï¼Œæ•°ç»„æ²¡æœ‰Vectorï¼ˆæ ‡å‡†åº“æä¾›ï¼‰çµæ´»ï¼Œå¹¶ä¸”Vectorç”¨å¾—æ›´å¤šã€‚

- vectoré•¿åº¦å¯å˜
- å¦‚æœä¸ç¡®å®šç”¨å“ªä¸ªï¼Œå°±ç”¨vector

##### æ•°ç»„ç±»å‹

```rust
let arr:[i32; 3] = [1, 2, 3];
```

- å¦‚æœæ•°ç»„çš„æ¯ä¸ªå…ƒç´ å€¼éƒ½ç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ä¸­æ‹¬å·ä¸­æŒ‡å®šåˆå§‹å€¼ï¼Œç„¶åæ˜¯`;`ï¼Œæœ€åæ˜¯æ•°ç»„é•¿åº¦ï¼š

```rust
let arr = [5; 3];
println!("{},{},{}", arr[0], arr[1], arr[2]); //5,5,5
```



##### è®¿é—®æ•°ç»„å…ƒç´ 

ä½¿ç”¨ç´¢å¼•`arr[0]`ï¼Œ`arr[1]`ã€‚

å¦‚æœè®¿é—®çš„ç´¢å¼•è¶…å‡ºäº†æ•°ç»„çš„èŒƒå›´ï¼Œé‚£ä¹ˆï¼š

- ç¼–è¯‘ä¼šé€šè¿‡ï¼ˆä¸ä¸€å®šï¼‰
- è¿è¡Œä¼šæŠ¥é”™ï¼ˆpanicï¼‰ï¼Œrustä¸å…è®¸å…¶ç»§ç»­è®¿é—®ç›¸åº”åœ°å€çš„å†…å­˜ã€‚





### 3.å‡½æ•°

#### å®šä¹‰

- å£°æ˜å‡½æ•°ä½¿ç”¨`fn`å…³é”®å­—
- é’ˆå¯¹å‡½æ•°å’Œå˜é‡åï¼Œrustä½¿ç”¨`snake_case`å‘½åè§„èŒƒï¼šæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™ï¼Œå•è¯é—´ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å¼€ã€‚

```rust
fn main() {
    println!("hello main");
    another_function();
}

fn another_function() {
    println!("Another func");
}
```

#### å‚æ•°

parametersï¼Œargumentsï¼ˆå½¢å‚ï¼Œå®å‚ï¼‰

å‡½æ•°ç­¾åä¸­å¿…é¡»æŒ‡æ˜æ‰€æœ‰å‚æ•°çš„ç±»å‹

```rust
fn main() {
    //arguments
    another_function(1, 2.2); //a=1ï¼Œb=2.2
}

fn another_function(a: i32, b: f64) {//parameter
    println!("a={}ï¼Œb={}", a, b);
}
```



#### è¯­å¥ä¸è¡¨è¾¾å¼

å‡½æ•°çš„å®šä¹‰ä¹Ÿæ˜¯è¯­å¥

è¯­å¥ä¸è¿”å›å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨letå°†ä¸€ä¸ªè¯­å¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼š

```rust
let x = (let y = 6);//error

let y = 6;//6æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå€¼ä¸º6ï¼Œä½œä¸ºè¯­å¥çš„ä¸€éƒ¨åˆ†ã€‚
```

è°ƒç”¨å®å¦‚`println!("");`ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼

ä¸‹é¢çš„å—è¡¨è¾¾å¼çš„å€¼ä¸º4ï¼Œå¦‚æœåœ¨`x+3`ååŠ `;`ï¼Œåˆ™å˜æˆä¸€ä¸ªè¯­å¥ï¼Œè¿”å›ä¸€ä¸ªç©ºçš„tuple

```rust
fn main() {
    let x = 5;

    let y = {
        let x = 1;
        x + 3
    };

    println!("y={}", y); //y=4
}
```



#### å‡½æ•°çš„è¿”å›å€¼

- åœ¨`->`ç¬¦å·åè¾¹å£°æ˜å‡½æ•°è¿”å›å€¼çš„ç±»å‹ï¼Œä½†æ˜¯ä¸å¯ä»¥ä»¥è¿”å›å€¼å‘½å
- rustä¸­ï¼Œè¿”å›å€¼æ˜¯å‡½æ•°ä½“ä¸­æœ€åè¡¨è¾¾å¼çš„å€¼
- è‹¥æƒ³æå‰è¿”å›ï¼Œéœ€ä½¿ç”¨returnï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå€¼ã€‚

```rust
fn main() {
    let x = cc();
    println!("x={}", x); //x=5

    let y = dd(2);
    println!("y={}", y); //y=3
}

fn cc() -> i128 {
    5
}

fn dd(x: i128) -> i128 {
    x + 1
}
```





### 4.æ³¨é‡Š

å•è¡Œ`//`ï¼Œå¤šè¡Œ`/* */`æˆ–`//`ã€‚

å¦å¤–ï¼Œrustä¸­è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„æ³¨é‡Šï¼š**â€œæ–‡æ¡£æ³¨é‡Šâ€**



### 5.æ§åˆ¶æµ

#### ifè¡¨è¾¾å¼

- æ¡ä»¶å¿…é¡»ä¸ºboolç±»å‹ï¼Œä¸åƒjsè¿™æ ·ä¼šè¿›è¡Œè½¬æ¢ã€‚

- ifè¡¨è¾¾å¼ä¸­ï¼Œä¸æ¡ä»¶ç›¸å…³è”çš„ä»£ç å—å«åˆ†æ”¯ï¼ˆarmï¼‰
- å¯é€‰çš„ï¼Œåœ¨åè¾¹å¯ä»¥åŠ ä¸Šä¸€ä¸ªelseè¡¨è¾¾å¼

```rust
fn main() {
    let number = 3;
    if number < 5 {
        println!("true");
    } else {
        println!("false");
    }
}
```



#### else if

```rust
fn main() {
    let number = 6;
    if number % 4 == 0 {
        println!("divisible by 4");
    } else if number % 3 == 0 {
        println!("divisible by 3");
    } else if number % 2 == 0 {
        println!("divisible by 2");
    } else {
        println!("false");
    }
    //divisible by 3 æŒ‰é¡ºåºæ‰§è¡Œ
}
```



å¦‚æœç”¨äº†å¤šäºä¸€ä¸ªelse ifï¼Œæœ€å¥½ä½¿ç”¨matchæ¥é‡æ„ä»£ç 

```rust
fn main() {
    judge(); //divisible by 2
}

fn judge() {
    let number = 6;
    for ele in [2, 4, 6] {
        let print = match number % ele {
            0 => ele.to_string(),
            _ => "false".to_string(),
        };
        return println!("divisible by {}", print);
    }
}
```





#### åœ¨letè¯­å¥ä¸­ä½¿ç”¨if

å› ä¸ºifæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ‰€ä»¥å¯ä»¥å°†ä»–æ”¾åœ¨letè¯­å¥ä¸­ç­‰å·çš„åé¢

```rust
fn main() {
    let condition = true;
    let numebr = if condition { 5 } else { 6 };
    println!("number={}", numebr); //number=5
}
//å¦‚æœå°†6æ”¹ä¸ºâ€œ6â€ï¼Œä¼šæŠ¥é”™ã€‚ifå’Œelseçš„ç±»å‹ä¸å…¼å®¹ã€‚æ— æ³•åœ¨ç¼–è¯‘æ—¶ç¡®å®šnumberçš„ç±»å‹ï¼Œrustè¦æ±‚ifelseè¡¨è¾¾å¼ä¸­å¯èƒ½æˆä¸ºç»“æœçš„åˆ†æ”¯è¿”å›çš„ç±»å‹ä¸€è‡´ã€‚
```



#### å¾ªç¯

loopï¼Œforï¼Œwhile

##### loop

åå¤å¾ªç¯ï¼Œç›´åˆ°å–Šåœã€‚

å¯ä»¥ä½¿ç”¨breakå…³é”®å­—ã€‚

```rust
fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    };

    println!("result is {}", result); //result is 20
}
```



##### whileæ¡ä»¶å¾ªç¯

æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“ä¹‹å‰éƒ½åˆ¤æ–­ä¸€æ¬¡æ¡ä»¶ï¼š

```rust
fn main() {
    let mut counter = 3;

    while counter != 0 {
        println!("{}!", counter);
        counter = counter - 1;
    }
    println!("LIFTOFF!");
}
```



##### forå¾ªç¯éå†é›†åˆ

å¯ä»¥ä½¿ç”¨whileæˆ–loopéå†é›†åˆï¼Œä½†æ˜¯æ˜“é”™ä¸”ä½æ•ˆï¼š

ç¬¬ä¸€æ˜¯indexçš„èŒƒå›´å®¹æ˜“æé”™ï¼ŒäºŒæ˜¯ä½æ•ˆï¼Œæ¯æ¬¡éƒ½ä¼šè¿›è¡Œåˆ¤æ–­

```rust
fn main() {
    let a = [10, 20, 30, 40, 50];
    let mut index = 0;
	
    while index < 5 {
        println!("{}!", a[index]);

        index = index + 1;
    }
}
```

æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨forå¾ªç¯æ¥éå†ï¼š

```rust
fn main() {
    let a = [10, 20, 30, 40, 50];
    for ele in a.iter() {
        println!("{}!", ele);
    }
}
```

ç”±äºforçš„å®‰å…¨ï¼Œç®€æ´æ€§ï¼Œæ‰€ä»¥åœ¨rustä¸­ç”¨å¾—æœ€å¤šã€‚



##### Range

- æ ‡å‡†åº“æä¾›
- æŒ‡å®šä¸€ä¸ªå¼€å§‹æ•°å­—å’Œä¸€ä¸ªç»“æŸæ•°å­—ï¼Œrangeå¯ä»¥ç”Ÿæˆä»–ä»¬ä¹‹é—´çš„æ•°å­—ï¼ˆä¸åŒ…æ‹¬ç»“æŸï¼‰
- revæ–¹æ³•å¯ä»¥åè½¬Range

```rust
fn main() {
    for number in (1..4).rev() {
        println!("{}!", number);
    }
    println!("LIFTOFF");
}
// 3!
// 2!
// 1!
// LIFTOFF
```

